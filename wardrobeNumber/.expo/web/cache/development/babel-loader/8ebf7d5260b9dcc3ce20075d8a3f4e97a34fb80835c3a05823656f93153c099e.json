{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Camera, CameraType } from \"expo-camera\";\nimport * as MediaLibrary from \"expo-media-library\";\nimport Button from \"./src/components/Button\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function App() {\n  var _ref2, _ref3;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    hasCameraPermission = _useState2[0],\n    setHasCameraPermission = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    image = _useState4[0],\n    setImage = _useState4[1];\n  var _useState5 = useState(CameraType.back),\n    _useState6 = _slicedToArray(_useState5, 2),\n    type = _useState6[0],\n    setType = _useState6[1];\n  var _useState7 = useState(Camera.Constants.FlashMode.off),\n    _useState8 = _slicedToArray(_useState7, 2),\n    flash = _useState8[0],\n    setFlash = _useState8[1];\n  var cameraRef = useRef(null);\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      MediaLibrary.requestPermissionsAsync();\n      var cameraStatus = yield Camera.requestCameraPermissionsAsync();\n      setHasCameraPermission(cameraStatus.status === \"granted\");\n    })();\n  }, []);\n  var takePicture = function takePicture() {\n    return (_ref2 = _ref2 || _asyncToGenerator(function* () {\n      if (cameraRef.current) {\n        if (flash === Camera.Constants.FlashMode.off) {\n          setFlash(Camera.Constants.FlashMode.auto);\n        }\n        var options = {\n          quality: 0.5,\n          base64: true\n        };\n        var photo = yield cameraRef.current.takePictureAsync(options);\n        setImage(photo.uri);\n      }\n    })).apply(this, arguments);\n  };\n  var rotateCamera = function rotateCamera() {\n    setType(type === CameraType.back ? CameraType.front : CameraType.back);\n  };\n  var toggleFlash = function toggleFlash() {\n    if (type === CameraType.front) {\n      setFlash(Camera.Constants.FlashMode.off);\n    } else {\n      setFlash(flash === Camera.Constants.FlashMode.off ? Camera.Constants.FlashMode.torch : Camera.Constants.FlashMode.off);\n    }\n  };\n  var saveImage = function saveImage() {\n    return (_ref3 = _ref3 || _asyncToGenerator(function* () {\n      if (image) {\n        try {\n          yield MediaLibrary.saveToLibraryAsync(image);\n          alert(\"Image saved to gallery\");\n          setImage(null);\n        } catch (error) {\n          alert(\"An error occurred while saving the image\");\n        }\n      }\n    })).apply(this, arguments);\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [hasCameraPermission && !image ? _jsxs(Camera, {\n      style: styles.camera,\n      type: type,\n      flashMode: flash,\n      ref: cameraRef,\n      children: [_jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n          paddingHorizontal: 30\n        },\n        children: [_jsx(Button, {\n          icon: \"retweet\",\n          onPress: rotateCamera\n        }), _jsx(Button, {\n          icon: \"flash\",\n          onPress: toggleFlash,\n          color: flash === Camera.Constants.FlashMode.torch ? \"red\" : \"white\" && type === CameraType.front ? \"grey\" : \"white\"\n        })]\n      }), _jsx(View, {\n        style: {\n          flex: 1,\n          backgroundColor: \"transparent\",\n          flexDirection: \"row\"\n        }\n      })]\n    }) : _jsx(Image, {\n      source: {\n        uri: image\n      },\n      style: styles.camera\n    }), _jsx(View, {\n      children: image ? _jsxs(View, {\n        style: {\n          flex: 1,\n          flexDirection: \"row\",\n          justifyContent: \"space-around\",\n          paddingHorizontal: 50\n        },\n        children: [_jsx(Button, {\n          title: \"Re-take\",\n          icon: \"retweet\",\n          onPress: function onPress() {\n            return setImage(null);\n          }\n        }), _jsx(Button, {\n          title: \"Save\",\n          icon: \"check\",\n          onPress: saveImage\n        })]\n      }) : _jsx(Button, {\n        title: \"Take a picture\",\n        icon: \"camera\",\n        onPress: takePicture\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"black\",\n    justifyContent: \"center\",\n    paddingBottom: 40,\n    paddingTop: 60\n  },\n  camera: {\n    flex: 1\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","useRef","StyleSheet","Text","View","Image","Camera","CameraType","MediaLibrary","Button","jsx","_jsx","jsxs","_jsxs","App","_ref2","_ref3","_useState","_useState2","_slicedToArray","hasCameraPermission","setHasCameraPermission","_useState3","_useState4","image","setImage","_useState5","back","_useState6","type","setType","_useState7","Constants","FlashMode","off","_useState8","flash","setFlash","cameraRef","_asyncToGenerator","requestPermissionsAsync","cameraStatus","requestCameraPermissionsAsync","status","takePicture","current","auto","options","quality","base64","photo","takePictureAsync","uri","apply","arguments","rotateCamera","front","toggleFlash","torch","saveImage","saveToLibraryAsync","alert","error","style","styles","container","children","camera","flashMode","ref","flexDirection","justifyContent","paddingHorizontal","icon","onPress","color","flex","backgroundColor","source","title","create","paddingBottom","paddingTop"],"sources":["/Users/kasperellegaardvejen/Gardarobenummer/wardrobeNumber/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { StyleSheet, Text, View, Image } from \"react-native\";\nimport { Camera, CameraType } from \"expo-camera\";\nimport * as MediaLibrary from \"expo-media-library\";\nimport Button from \"./src/components/Button\";\n\nexport default function App() {\n  const [hasCameraPermission, setHasCameraPermission] = useState(null);\n  const [image, setImage] = useState(null);\n  const [type, setType] = useState(CameraType.back);\n  const [flash, setFlash] = useState(Camera.Constants.FlashMode.off);\n  const cameraRef = useRef(null);\n\n  useEffect(() => {\n    (async () => {\n      MediaLibrary.requestPermissionsAsync();\n      const cameraStatus = await Camera.requestCameraPermissionsAsync();\n      setHasCameraPermission(cameraStatus.status === \"granted\");\n    })();\n  }, []);\n\n  const takePicture = async () => {\n    if (cameraRef.current) {\n      if (flash === Camera.Constants.FlashMode.off) {\n        setFlash(Camera.Constants.FlashMode.auto);\n      }\n      const options = { quality: 0.5, base64: true };\n      const photo = await cameraRef.current.takePictureAsync(options);\n      setImage(photo.uri);\n    }\n  };\n\n  const rotateCamera = () => {\n    setType(type === CameraType.back ? CameraType.front : CameraType.back);\n  };\n\n  //change flash mode to torch or off. if front camera is on, flash mode is off\n  const toggleFlash = () => {\n    if (type === CameraType.front) {\n      setFlash(Camera.Constants.FlashMode.off);\n    } else {\n      setFlash(\n        flash === Camera.Constants.FlashMode.off\n          ? Camera.Constants.FlashMode.torch\n          : Camera.Constants.FlashMode.off\n      );\n    }\n  };\n\n  const saveImage = async () => {\n    if (image) {\n      try {\n        await MediaLibrary.saveToLibraryAsync(image);\n        alert(\"Image saved to gallery\");\n        setImage(null);\n      } catch (error) {\n        alert(\"An error occurred while saving the image\");\n      }\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      {hasCameraPermission && !image ? (\n        <Camera\n          style={styles.camera}\n          type={type}\n          flashMode={flash}\n          ref={cameraRef}\n        >\n          <View\n            style={{\n              flexDirection: \"row\",\n              justifyContent: \"space-between\",\n              paddingHorizontal: 30,\n            }}\n          >\n            <Button icon={\"retweet\"} onPress={rotateCamera} />\n            <Button\n              icon={\"flash\"}\n              onPress={toggleFlash}\n              color={\n                flash === Camera.Constants.FlashMode.torch\n                  ? \"red\"\n                  : \"white\" && type === CameraType.front\n                  ? \"grey\"\n                  : \"white\"\n              }\n            />\n          </View>\n          <View\n            style={{\n              flex: 1,\n              backgroundColor: \"transparent\",\n              flexDirection: \"row\",\n            }}\n          ></View>\n        </Camera>\n      ) : (\n        <Image source={{ uri: image }} style={styles.camera} />\n      )}\n\n      <View>\n        {image ? (\n          <View\n            style={{\n              flex: 1,\n              flexDirection: \"row\",\n              justifyContent: \"space-around\",\n              paddingHorizontal: 50,\n            }}\n          >\n            <Button\n              title={\"Re-take\"}\n              icon=\"retweet\"\n              onPress={() => setImage(null)}\n            />\n            <Button title={\"Save\"} icon=\"check\" onPress={saveImage} />\n          </View>\n        ) : (\n          <Button\n            title={\"Take a picture\"}\n            icon=\"camera\"\n            onPress={takePicture}\n          />\n        )}\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"black\",\n    justifyContent: \"center\",\n    paddingBottom: 40,\n    paddingTop: 60,\n  },\n  camera: {\n    flex: 1,\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}